<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Powered Railway Information System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="description">
        <h2>Welcome aboard! <br>Explore the future of railway assistance with our AI-powered system.</h2>
        <p>Explore the next-gen railway info system. Our platform merges chatbot, NLP, and speech recognition for quick access to train schedules and routes. With ChatGPT's power, get fast, accurate responses, while speech recognition makes interaction easy. User-friendly web interface keeps you informed on any device. Revolutionize your travel experience with our innovative system.</p>
    </div>

    <div class="container">
        <h1>Experience The Convenience Of Voice Interaction</h1>
        <p>Just ask, and our system will provide the information you need.</p>
        <div class="row">
            <div class="col-md-12">
                <form method="post" class="mb-4">
                    <div class="form-group">
                        <input type="text" name="query" class="form-control" placeholder="Enter your query">
                    </div>
                    <button type="submit" class="btn btn-primary btn-block">Submit</button>
                </form>
                <!-- New form for speech-to-text interaction -->
                <form id="speechForm" method="post">
                    <!-- You might want to style this form as per your design -->
                    <button type="button" id="speechButton" class="btn btn-secondary btn-block">Speak</button>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.getElementById('speechButton').addEventListener('click', function() {
            this.disabled = true;
            fetch('/speech_to_text', { method: 'POST' })
            .then(response => response.json())
            .then(data => {
                document.querySelector('input[name="query"]').value = data;
                document.querySelector('form[action="/"]').submit();
            })
            .catch(error => {
                console.error('Error:', error);
                this.disabled = false;
            });
        });
    </script>
</body>
</html>
